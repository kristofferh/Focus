// Namespace
var Focus=Focus||{};(function(e,t){var n=function(e,t,r){if(!(this instanceof n))return new n(e,t,r);var i=this;this.el=e;this.prop=t;this.from=r.from;this.to=r.to;this.duration=r.duration;this.callback=r.callback;this.animDiff=this.to-this.from;this.prefix=n.prefix();this.cssTransition=r.cssTransition&&this.prefix;this.cssEasing=r.cssEasing||"linear";if(this.cssTransition){this.transitionEndEvent=n.whichTransitionEvent();this.events={__end:this.__cssTransitionEnd.bind(this)}}this.easing=n.easing[r.easing]||function(e,t,n,r,i){return n+r*e};r.delay?typeof r.delay=="number"&&setTimeout(function(){i.start()},r.delay):this.start()};n.prototype={_isColor:function(e){var t=/(#[a-f|A-F|0-9]|rgb)/;return typeof e=="string"&&t.test(e)},_setStyle:function(e){var t;this.cssTransition&&(this.el.style.cssText=this.prefix+"transition: "+this.prop+" "+this.duration+"ms "+this.cssEasing);t=this.prop==="opacity"?"":"px";this.el.style[Tumblr.$.camelize(this.prop)]=e+t},_tween:function(){this.now=new Date;this.elapsed=this.now-this.startTime;if(this.elapsed>=this.duration)this._animationEnd(!0);else{this.percentage=this.elapsed/this.duration;this.val=this.easing(this.percentage,this.elapsed,this.from,this.animDiff,this.duration);this._setStyle(this.val)}},_animationEnd:function(e){this.ended=!0;clearInterval(this.timer);e&&!this.cssTransition&&this._setStyle(this.to);this.callback&&typeof this.callback=="function"&&this.callback.call(this)},__cssTransitionEnd:function(e){if(e.propertyName===this.prop){this.el.removeEventListener(this.transitionEndEvent,this.events.__end,!1);this._animationEnd(!0)}},start:function(){var e=this;this.startTime=new Date;if(this.cssTransition){this._setStyle(this.to);this.el.addEventListener(this.transitionEndEvent,this.events.__end,!1)}else this.timer=setInterval(function(){e._tween.call(e)},3)},stop:function(e){this._animationEnd(e)}};n.propSupport=function(){return function(e){var t=document.createElement("fakeelement"),n=["Webkit","Moz","O","MS","Khtml"],r=n.length;if(e in t.style)return!0;e=e.replace(/^[a-z]/,function(e){return e.toUpperCase()});while(r--)if(n[r]+e in t.style)return!0;return!1}}();n.prefix=function(){var e;return function(){if(e===undefined){var t=document.createElement("fakeelement"),n=["Webkit","Moz","O","MS","Khtml"],r=n.length,i;while(r--){i=n[r];t.style.cssText="-"+i.toLowerCase()+"-transition:opacity;";if(typeof t.style[i+"Transition"]!="undefined"){e="-"+i.toLowerCase()+"-";return e}}e=!1;return e}return e}}();n.whichTransitionEvent=function(){var e;return function(){if(e===undefined){var t,n=document.createElement("fakeelement"),r={transition:"transitionend",OTransition:"oTransitionEnd",MSTransition:"msTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in r)if(n.style[t]!==undefined){e=r[t];return e}e=!1;return e}return e}}();n.easing={linear:function(e,t,n,r,i){return n+r*e},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t===0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){return t===0?n:t===i?n+r:(t/=i/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){return(t/=i/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t===0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;s=o/4}else s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t===0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;s=o/4}else s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t===0)return n;if((t/=i/2)==2)return n+r;o||(o=i*.3*1.5);if(u<Math.abs(r)){u=r;s=o/4}else s=o/(2*Math.PI)*Math.asin(r/u);return t<1?-0.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n:u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){s===undefined&&(s=1.70158);return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){s===undefined&&(s=1.70158);return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){s===undefined&&(s=1.70158);return(t/=i/2)<1?r/2*t*t*(((s*=1.525)+1)*t-s)+n:r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,r,i,s){return i-n.easing.easeOutBounce(e,s-t,0,i,s)+r},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?r*7.5625*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,r,i,s){return t<s/2?n.easing.easeInBounce(e,t*2,0,i,s)*.5+r:n.easing.easeOutBounce(e,t*2-s,0,i,s)*.5+i*.5+r}};t.Fx=n})(jQuery,Focus);